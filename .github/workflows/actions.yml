name: Test for actions runner

on: push

jobs:
  build:
    name: My build
    runs-on: [self-hosted, linux]
    steps:
    - name: build
      env:
        MY_VAR: Hi there! My name is
        FIRST_NAME: Mona
        MIDDLE_NAME: The
        LAST_NAME: Octocat
      run: |
        echo $MY_VAR $FIRST_NAME $MIDDLE_NAME $LAST_NAME
        git clone https://github.com/Thomas-YangHT/django.git && cd django
        docker build -t 192.168.100.222:5000/python -f ./dockerfile.django.gitlab-runner .    
        docker push 192.168.100.222:5000/python
        sh ./docker-run.sh
      shell: bash
